<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Jenis Suara - Platform Pembelajaran Fisika</title>

    <!-- GUNAKAN STYLE GLOBAL -->
    <link rel="stylesheet" href="style-global.css">
</head>

<body>

    <!-- HEADER NAVIGASI -->
    <header>
        <div class="header-content">
            <nav>
                <ul>
                    <li><a href="materi.html">BACK</a></li>
                    <li><a href="home.html">HOME</a></li>
                    <li><a href="about.html">ABOUT</a></li>
                    <li><a href="contact.html">CONTACT ME</a></li>
                    <li><a href="index.html">LOG OUT</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- KONTEN UTAMA -->
    <div class="main-wrapper">
        <div class="card">

            <h2 style="text-align:center; margin-bottom:10px; color:var(--accent);">
                Pertanyaan:
            </h2>

            <p style="text-align:center;">
                Dari yang komandan sampaikan tadi, jenis suara makhluk hidup yang dikategorikan berdasarkan frekuensinya ada tiga.
                <br><b>Sebutkan apa saja jenisnya!</b>
            </p>

            <!-- Kolom Jawaban -->
            <textarea placeholder="Tuliskan jawabanmu di sini..." 
                      style="width:100%; height:120px; padding:12px; border-radius:10px; border:1px solid #aaa; resize:none; margin-top:15px;">
            </textarea>

            <h3 style="margin-top:20px; margin-bottom:10px;">Gambarkan salah satu contohnya:</h3>

            <!-- Canvas -->
            <canvas id="drawingCanvas" width="800" height="300" 
                    style="border:2px solid #333; border-radius:10px; width:100%; height:300px; cursor:crosshair;"></canvas>

            <!-- Tombol Undo -->
            <button id="undoBtn" 
                    style="background:#ff4444; margin-top:15px; color:white; padding:12px 20px; border:none; border-radius:8px; cursor:pointer;">
                Undo Gambar
            </button>

            <!-- Tombol Selanjutnya -->
            <div style="display:flex; justify-content:flex-end; margin-top:20px;">
                <a href="halaman5.html">
                    <button class="btn btn-yes">Selanjutnya</button>
                </a>
            </div>

        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <p>Â© 2025 Platform Pembelajaran Fisika</p>
    </footer>


<script>
    const canvas = document.getElementById("drawingCanvas");
    const ctx = canvas.getContext("2d");

    let drawing = false;

    // Menyimpan history untuk tombol Undo
    let history = [];

    function saveState() {
        history.push(canvas.toDataURL());
        if (history.length > 30) {
            history.shift(); // batasi riwayat agar tidak berat
        }
    }

    canvas.addEventListener("mousedown", () => {
        drawing = true;
        saveState();
        ctx.beginPath();
    });

    canvas.addEventListener("mouseup", () => {
        drawing = false;
    });

    canvas.addEventListener("mousemove", (event) => {
        if (!drawing) return;

        const rect = canvas.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;

        ctx.lineWidth = 3;
        ctx.lineCap = "round";
        ctx.strokeStyle = "#000";

        ctx.lineTo(x, y);
        ctx.stroke();
    });

    // Fungsi tombol UNDO
    document.getElementById("undoBtn").addEventListener("click", () => {
        if (history.length > 0) {
            const lastState = history.pop();
            const img = new Image();
            img.src = lastState;
            img.onload = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(img, 0, 0);
            };
        }
    });
</script>

</body>
</html>
